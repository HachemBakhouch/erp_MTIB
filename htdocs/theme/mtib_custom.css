/**
 * Custom CSS Theme for ERP MTIB - Version 2 (Fixed)
 * Copyright (C) 2026 EVE-MEDIA - All rights reserved
 *
 * Charte graphique: Bleu Marine (#002B5B, #1A5490, #2E8BC0)
 * Utilise !important pour surcharger les styles Dolibarr
 */

/* ============================================
   PAGE DE CONNEXION (LOGIN) - VERSION CORRIGÉE
   ============================================ */

/* Body de la page de login */
body.bodylogin,
body#mainbody.bodylogin {
    background: linear-gradient(135deg, #002B5B 0%, #1A5490 50%, #2E8BC0 100%) !important;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
    min-height: 100vh !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    margin: 0 !important;
    padding: 20px !important;
}

/* Container de login */
div.login_center,
div#login_center {
    background: #FFFFFF !important;
    border-radius: 16px !important;
    box-shadow: 0 20px 60px rgba(0, 43, 91, 0.3) !important;
    max-width: 420px !important;
    width: 100% !important;
    overflow: hidden !important;
    border: none !important;
    margin: 20px auto !important;
}

/* En-tête avec logo */
div.login_center > div:first-child,
div.login_center table:first-child,
div.login_center > form > div:first-child {
    background: linear-gradient(135deg, #002B5B, #1A5490) !important;
    padding: 35px 25px !important;
    text-align: center !important;
    border-bottom: 3px solid #FF6B35 !important;
}

/* Logo */
div.login_center img,
div.login_center .loginlogo img {
    max-height: 70px !important;
    max-width: 180px !important;
    width: auto !important;
    height: auto !important;
    filter: brightness(0) invert(1) !important;
    margin: 0 auto 10px auto !important;
    display: block !important;
}

/* Titre "ERP MTIB" */
div.login_table_title,
.login_table_title {
    color: #FFFFFF !important;
    font-size: 26px !important;
    font-weight: 700 !important;
    margin: 12px 0 0 0 !important;
    padding: 0 !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
    text-align: center !important;
}

/* Sous-titre version */
div.login_table_title + div {
    color: rgba(255, 255, 255, 0.85) !important;
    font-size: 13px !important;
    margin-top: 5px !important;
}

/* Table de formulaire */
table.login_table,
.login_table {
    width: 100% !important;
    padding: 30px 25px !important;
    background: #FFFFFF !important;
    border: none !important;
}

table.login_table tr {
    display: block !important;
    margin-bottom: 18px !important;
}

table.login_table td {
    display: block !important;
    padding: 0 !important;
    border: none !important;
}

/* Labels des champs */
table.login_table td.fieldrequired,
table.login_table label,
table.login_table .fieldrequired {
    color: #3E4C59 !important;
    font-weight: 600 !important;
    font-size: 13px !important;
    margin-bottom: 6px !important;
    display: block !important;
}

/* Inputs de formulaire */
table.login_table input[type="text"],
table.login_table input[type="password"],
table.login_table input[type="email"],
input.flat[type="text"],
input.flat[type="password"] {
    width: 100% !important;
    max-width: 100% !important;
    padding: 12px 14px !important;
    border: 2px solid #CBD2D9 !important;
    border-radius: 8px !important;
    font-size: 14px !important;
    background: #F5F7FA !important;
    color: #1F2933 !important;
    transition: all 0.3s ease !important;
    box-sizing: border-box !important;
}

table.login_table input[type="text"]:focus,
table.login_table input[type="password"]:focus,
table.login_table input[type="email"]:focus,
input.flat[type="text"]:focus,
input.flat[type="password"]:focus {
    outline: none !important;
    border-color: #1A5490 !important;
    background: #FFFFFF !important;
    box-shadow: 0 0 0 3px rgba(26, 84, 144, 0.15) !important;
}

/* Bouton de connexion */
table.login_table input[type="submit"],
table.login_table .button,
input.button[type="submit"] {
    width: 100% !important;
    padding: 14px 20px !important;
    background: linear-gradient(135deg, #1A5490, #2E8BC0) !important;
    color: #FFFFFF !important;
    border: none !important;
    border-radius: 8px !important;
    font-size: 15px !important;
    font-weight: 700 !important;
    cursor: pointer !important;
    transition: all 0.3s ease !important;
    box-shadow: 0 4px 12px rgba(26, 84, 144, 0.3) !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    margin-top: 10px !important;
}

table.login_table input[type="submit"]:hover,
table.login_table .button:hover,
input.button[type="submit"]:hover {
    background: linear-gradient(135deg, #002B5B, #1A5490) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 20px rgba(26, 84, 144, 0.4) !important;
}

table.login_table input[type="submit"]:active {
    transform: translateY(0) !important;
}

/* Liens (mot de passe oublié, etc.) */
table.login_table a,
div.login_center a {
    color: #1A5490 !important;
    text-decoration: none !important;
    font-size: 13px !important;
    font-weight: 500 !important;
    transition: color 0.3s ease !important;
}

table.login_table a:hover,
div.login_center a:hover {
    color: #002B5B !important;
    text-decoration: underline !important;
}

/* Messages d'erreur */
div.error,
.error {
    background: linear-gradient(135deg, #FFE5E5, #FFD0D0) !important;
    border: none !important;
    border-left: 4px solid #DC3545 !important;
    color: #721c24 !important;
    padding: 12px 15px !important;
    border-radius: 6px !important;
    margin: 10px 0 !important;
    font-size: 13px !important;
}

/* Messages de succès */
div.ok,
.ok {
    background: linear-gradient(135deg, #E5F5E5, #D0F0D0) !important;
    border: none !important;
    border-left: 4px solid #28A745 !important;
    color: #155724 !important;
    padding: 12px 15px !important;
    border-radius: 6px !important;
    margin: 10px 0 !important;
    font-size: 13px !important;
}

/* Messages d'avertissement */
div.warning,
.warning {
    background: linear-gradient(135deg, #FFF8E1, #FFECB3) !important;
    border: none !important;
    border-left: 4px solid #FFC107 !important;
    color: #856404 !important;
    padding: 12px 15px !important;
    border-radius: 6px !important;
    margin: 10px 0 !important;
    font-size: 13px !important;
}

/* Footer copyright */
div.login_center > div:last-child,
#login_center > div:last-child {
    background: #F5F7FA !important;
    padding: 15px !important;
    text-align: center !important;
    font-size: 11px !important;
    color: #616E7C !important;
    border-top: 1px solid #E4E7EB !important;
}

/* ============================================
   INTERFACE PRINCIPALE (après connexion)
   ============================================ */

/* Barre de navigation supérieure */
div#id-top,
div.side-nav-vert {
    background: linear-gradient(135deg, #002B5B, #1A5490) !important;
    border-bottom: 3px solid #FF6B35 !important;
    box-shadow: 0 2px 8px rgba(0, 43, 91, 0.2) !important;
}

/* Liens du menu supérieur */
div#id-top a,
div.tmenu a {
    color: #FFFFFF !important;
    transition: all 0.3s ease !important;
}

div#id-top a:hover,
div.tmenu a:hover {
    color: #FF6B35 !important;
    background: rgba(255, 255, 255, 0.1) !important;
}

/* Menu de gauche */
div#id-left,
div.side-nav {
    background: #F5F7FA !important;
    border-right: 1px solid #E4E7EB !important;
}

/* Titres de menu */
div.menu_titre,
.menu_titre {
    background: transparent !important;
    color: #002B5B !important;
    font-weight: 700 !important;
    padding: 10px 14px !important;
    font-size: 13px !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    border-bottom: 2px solid #1A5490 !important;
    margin-bottom: 5px !important;
}

/* Éléments de menu */
a.vmenu,
a.vsmenu,
div.vmenu {
    color: #3E4C59 !important;
    padding: 8px 14px !important;
    transition: all 0.3s ease !important;
    border-radius: 6px !important;
    margin: 2px 8px !important;
}

a.vmenu:hover,
a.vsmenu:hover {
    background: linear-gradient(135deg, #2E8BC0, #5BA3D0) !important;
    color: #FFFFFF !important;
    transform: translateX(4px) !important;
}

/* Boutons d'action */
a.butAction,
.butAction,
input.button,
.button {
    background: linear-gradient(135deg, #1A5490, #2E8BC0) !important;
    color: #FFFFFF !important;
    border: none !important;
    border-radius: 6px !important;
    padding: 9px 18px !important;
    font-weight: 600 !important;
    transition: all 0.3s ease !important;
    box-shadow: 0 2px 6px rgba(26, 84, 144, 0.2) !important;
    cursor: pointer !important;
    text-decoration: none !important;
}

a.butAction:hover,
.butAction:hover,
input.button:hover,
.button:hover {
    background: linear-gradient(135deg, #002B5B, #1A5490) !important;
    transform: translateY(-1px) !important;
    box-shadow: 0 4px 12px rgba(26, 84, 144, 0.3) !important;
}

/* Boutons de suppression */
a.butActionDelete,
.butActionDelete {
    background: linear-gradient(135deg, #DC3545, #C82333) !important;
    color: #FFFFFF !important;
}

a.butActionDelete:hover,
.butActionDelete:hover {
    background: linear-gradient(135deg, #BD2130, #DC3545) !important;
}

/* Tableaux */
table.liste,
table.noborder,
table.border {
    border-radius: 8px !important;
    overflow: hidden !important;
    box-shadow: 0 1px 4px rgba(0, 43, 91, 0.1) !important;
}

table.liste tr.liste_titre,
table.noborder tr.liste_titre,
tr.liste_titre {
    background: linear-gradient(135deg, #002B5B, #1A5490) !important;
    color: #FFFFFF !important;
    font-weight: 700 !important;
}

table.liste tr.liste_titre th,
table.noborder tr.liste_titre th {
    color: #FFFFFF !important;
    border-bottom: 2px solid #FF6B35 !important;
}

table.liste tr:hover,
table.noborder tr:hover {
    background: #F5F7FA !important;
}

/* Fiches et cartes */
div.fichecenter,
div.fiche,
div.tabBar {
    background: #FFFFFF !important;
    border-radius: 10px !important;
    box-shadow: 0 2px 8px rgba(0, 43, 91, 0.08) !important;
    padding: 18px !important;
    margin-bottom: 18px !important;
}

/* Onglets */
div.tabBar a,
.tabBar a {
    color: #3E4C59 !important;
    border-radius: 6px 6px 0 0 !important;
    padding: 10px 18px !important;
    transition: all 0.3s ease !important;
    border: none !important;
}

div.tabBar a:hover,
.tabBar a:hover {
    background: #F5F7FA !important;
    color: #1A5490 !important;
}

div.tabBar a.tabactive,
.tabBar a.tabactive {
    background: #1A5490 !important;
    color: #FFFFFF !important;
    border-bottom: 3px solid #FF6B35 !important;
}

/* Champs de formulaire */
input.flat,
textarea.flat,
select.flat {
    border: 1px solid #CBD2D9 !important;
    border-radius: 5px !important;
    padding: 7px 11px !important;
    transition: all 0.3s ease !important;
    background: #FFFFFF !important;
}

input.flat:focus,
textarea.flat:focus,
select.flat:focus {
    border-color: #1A5490 !important;
    outline: none !important;
    box-shadow: 0 0 0 3px rgba(26, 84, 144, 0.1) !important;
}

/* Badges de statut */
span.badge,
.badge {
    border-radius: 10px !important;
    padding: 4px 10px !important;
    font-size: 11px !important;
    font-weight: 700 !important;
}

span.badge-status4,
.badge-status4 {
    background: #28A745 !important;
    color: #FFFFFF !important;
}

span.badge-status1,
.badge-status1 {
    background: #FFC107 !important;
    color: #1F2933 !important;
}

/* Pagination */
div.pagination,
.pagination {
    background: #FFFFFF !important;
    border-radius: 6px !important;
    padding: 8px !important;
    box-shadow: 0 1px 4px rgba(0, 43, 91, 0.08) !important;
}

div.pagination a,
.pagination a {
    color: #1A5490 !important;
    border-radius: 4px !important;
    padding: 5px 10px !important;
    transition: all 0.3s ease !important;
}

div.pagination a:hover,
.pagination a:hover {
    background: #1A5490 !important;
    color: #FFFFFF !important;
}

/* ============================================
   RESPONSIVE
   ============================================ */

@media (max-width: 768px) {
    div.login_center,
    div#login_center {
        max-width: 95% !important;
        margin: 10px !important;
    }

    table.login_table {
        padding: 25px 18px !important;
    }

    div.login_table_title,
    .login_table_title {
        font-size: 22px !important;
    }
}

/* Forcer l'application du thème */
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
}
